---
title: 找出不包含某个字符串的正则表达式
date: 2017-07-23 22:42:43
tags: 正则表达式
categories: 正则表达式
---

## 找出不包含某个字符串的正则表达式

经常我们会遇到想找出不包含某个字符串，例如"hello"的文本，最容易想到的是在正则表达式里使用[^hello]，但这样的正则表达式完全是另外一个意思，它的意思是字符串里不能包含'h'，'e'，'l', 'o'四个单字符。那什么样的正则表达式能过滤出不包含完整“hello”字串的信息呢？事实上，说正则表达式里不支持逆向匹配并不是百分之百的正确。

我们就可以使用**否定式查找**来模拟出逆向匹配，从而解决我们的问题, 表达式如下：

```
^((?!hello).)*$
```

上面这个表达式就能过滤出不包含**'hello'**字串的信息。

先解释一下**?!**的用法：

> 零宽负向先行断言(?!exp)，只会匹配后缀exp不存在的位置。例如，\d{3}(?!\d)匹配三位数字，而且这三位数字的后面不能是数字

现在解释表达式**((?!hello).)***：

表达式**(?!hello)**.会往前查找，看看前面是不是没有“hello”字串，如果没有(是其它字符)，那么.(点号)就会匹配这些其它字符。**这种正则表达式的“查找”也叫做“zero-width-assertions”(零宽度断言)**，因为它不会捕获任何的字符，只是判断。

我们来看一下**“Nonnullhelloworld”**这个字符串。

> **(?!hello)**会检查每个字符串后面跟的是不是**'hello'**，如果不是，.就匹配这个字符。表达式**(?!hello)**只执行一次，所以将这个表达式用括弧包裹组成组，然后用星号*修饰来匹配零次或多次。

匹配**Nonnullhelloworld**返回false, 说明该字符串含有**'hello'**子串。
匹配**Nonnullworld**返回true
匹配**Nonnullworldhello**返回false
匹配**hello**返回false

所以，你可以认为当表达式返回false的时候，说明该字符串包含指定子串。

最后推荐一个好的，快速的测试正则表达式的在线网站，我用起来很不错(居然还有正则表达式的解释，真是有点强大哈，还不快自己尝试一下)：
[https://regex101.com/](https://regex101.com/)